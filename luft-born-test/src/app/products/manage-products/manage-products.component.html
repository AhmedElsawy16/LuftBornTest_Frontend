<form fxLayout="row wrap" fxLayoutGap="15px" [formGroup]="filterForm">


    <!-- Button trigger modal -->
    <button hidden #myAddEditBtn type="button" class="btn btn-success mt-5" data-bs-toggle="modal"
        data-bs-target="#addEditModalId">
        Add Product
    </button>
    <button type="button" class="btn btn-success mt-5" (click)="addProduct()">
        Add Product
    </button>

    <div class="card mb-5 mt-5">
        <div class="card-body">
            <div class="row">
                <div class="col-6 input-group">
                    <input type="text" class="form-control" placeholder="Enter product name"
                        aria-label="Recipient's username" aria-describedby="button-addon2" formControlName="name">
                    <button class="btn btn-outline-secondary" type="button" id="button-addon2"
                        (click)="onSubmit()">Search</button>
                    <button class="btn btn-outline-secondary" type="button" id="button-addon2"
                        (click)="clear()">Clear</button>
                </div>
            </div>
        </div>
    </div>

    <app-products-list [products]="products" (editProduct)="editProduct($event)" 
    (deleteProductEvent)="deleteProduct($event)"></app-products-list>
    
</form>


<!-- Modal -->
<form fxLayout="row wrap" fxLayoutGap="15px" [formGroup]="addEditForm">

    <div #addEditModalIdd class="modal fade" id="addEditModalId" data-bs-backdrop="static" data-bs-keyboard="false"
        tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">Add New Product</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="productNameInput1" class="form-label">Product Name</label>
                        <input type="text" class="form-control" id="productNameInput1" placeholder="product name"
                            formControlName="name">
                    </div>
                    <div class="mb-3">
                        <label for="shortDescTextarea1" class="form-label">Short Desc</label>
                        <textarea class="form-control" id="shortDescTextarea1" rows="3"
                            formControlName="shortDescription"></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="fullDescTextarea1" class="form-label">Full Desc</label>
                        <textarea class="form-control" id="fullDescTextarea1" rows="3"
                            formControlName="fullDescription"></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="showOnHomepageInput1" class="form-label">Show On Homepage</label>
                        <input type="checkbox" class="" id="showOnHomepageInput1" placeholder="product name"
                            formControlName="showOnHomepage">
                    </div>
                </div>
                <div class="modal-footer">
                    <button #myCloseAddEditModalBtn type="button" class="btn btn-secondary"
                        data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" (click)="onAddEditSubmit()">Save</button>
                </div>
            </div>
        </div>
    </div>

</form>

<!-- Delete Confirmation Modal -->
<button hidden #deleteConfModalBtn type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#deleteConfirmationId"></button>
<div class="modal fade" id="deleteConfirmationId" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">Confirm</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p *ngIf="selectedProduct != null"> Are you sure you want to delete <b>{{selectedProduct.name}}</b>? </p>
            </div>
            <div class="modal-footer">
                <button #closeDeleteConfModalBtn type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-danger" (click)="confirmDelete()">Confirm</button>
            </div>
        </div>
    </div>
</div>